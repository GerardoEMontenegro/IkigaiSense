{% extends 'layouts/general_layout.html' %}
{% load static %}
{% load widget_tweaks %}
{% load django_browser_reload %}
{% django_browser_reload_script %}


{% block title_layout %}

{% endblock %}

{% block content %}
    <main class="mb-20">
        <section class="relative h-[70vh] bg-cover bg-center text-white" style="background-image:url('static/assets/images/portada1.webp');">
            <div class="relative z-10 h-full flex flex-col justify-start items-center text-start pt-9">
                <h1 class="text-7xl font-tangerine text-shadow-lg/40 text-white mt-10">Si no has encontrado tu Ikigai, su búsqueda ya constituye un propósito en sí mismo.</h1>
                <div class="flex mt-auto mb-8 gap-7 space-x-10">
                    <a href="{% url 'post:post_list'%}" class="border-2 border-white rounded-full bg-[#F6F2E6] text-[#203329] font-spectral font-bold py-3 px-6 hover:bg-[#203329] hover:text-amber-50 transition duration-300" >Ùltimos posts </a>
                    <a href="" class="border-2 border-white rounded-full bg-[#F6F2E6] text-[#203329] font-spectral font-bold py-3 px-6 hover:bg-[#203329] hover:text-amber-50 transition duration-300">Categorías </a>
                </div>
            </div>
        </section>

     <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        
        <!-- Contenedor de la cuadrícula de posts -->
        <div class="m-8 grid gap-8 md:grid-cols-2 lg:grid-cols-3">

            {% for post in posts %}
            <!-- Inicio de la tarjeta de Post -->
            <div class="flex flex-col rounded-lg shadow-lg overflow-hidden">
                
                <!-- Imagen del Post -->
                <div class="flex-shrink-0">
                    {% with post.images.first as post_image %}
                        {% if post_image %}
                            <img class="h-48 w-full object-cover" src="{{ post_image.image.url }}" alt="{{ post.title }}">
                        {% else %}
                            <!-- Placeholder si no hay imagen -->
                            <div class="h-48 w-full bg-[#203329] flex items-center justify-center">
                                <span class="text-white text-xl font-libertinus-bold px-4 text-center">{{ post.title }}</span>
                            </div>
                        {% endif %}
                    {% endwith %}
                </div>

                <!-- Contenido de la tarjeta -->
                <div class="flex-1 bg-white p-6 flex flex-col justify-between">
                    <div class="flex-1">
                        <h3 class="mt-2 text-xl font-libertinus-italic text-[#203329]">
                            {{ post.title }}
                        </h3>
                        <p class="mt-3 text-base font-libertinus-regular text-gray-500">
                            <!-- Muestra un extracto del contenido (ej: 25 palabras) -->
                            {{ post.content|truncatewords:25|linebreaksbr }}
                        </p>
                    </div>
                    <div class="mt-6">
                        <a href="{% url 'post:post_detail' post.slug %}" class="text-lg font-libertinus-bold text-[#445e35] hover:text-xl hover:text-[#203329]">
                            Leer más &rarr;
                        </a>
                    </div>
                </div>
            </div>
            <!-- Fin de la tarjeta de Post -->
            {% endfor %}

        </div>
     </div>
    </main>

{% endblock %}